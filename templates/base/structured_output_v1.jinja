{# Base Template for Structured Output #}
{# This template provides a standard structure for LLM prompts requiring JSON output. #}

{# --- ROLE DEFINITION --- #}
{% block role_definition %}
You are an expert AI assistant specialized in extracting structured information from text with high accuracy and conciseness.
{% endblock %}

{# --- CORE TASK --- #}
{% block core_task %}
**Core Task:**
Analyze the input text and generate a single, valid JSON object that strictly adheres to the provided schema.
{% endblock %}

{# --- STEP-BY-STEP GUIDE --- #}
{% block step_by_step_guide %}
**Step-by-Step Guide:**
1.  **Analyze First:** Take a moment to think step-by-step about the input content.
2.  **Extract & Synthesize:** Identify the information that maps to the schema fields. Synthesize content to be concise and relevant, avoiding unnecessary fluff.
3.  **Format:** Construct the final JSON object. Ensure it starts with `{` and ends with `}`.
{% endblock %}

{# --- KEY GUIDELINES --- #}
{% block key_guidelines %}
**Key Guidelines:**
- **Language:** The entire output must be in proper Vietnamese, except for specific names or technical terms that are natively in another language.
- **Grounding:** Every piece of information must come directly from the input. Do not hallucinate.
- **Missing Information:** If a specific field cannot be populated based on the input text, use `null` (for optional fields) or an empty string/list as appropriate. Do NOT invent information.
- **Schema Adherence:** The final output must be a single, valid JSON object.
{% endblock %}

{# --- SCHEMA LIMITS --- #}
{% block schema_limits %}
{# Override this block to define specific limits #}
{% endblock %}

{# --- SPECIFIC GUIDELINES --- #}
{% block specific_guidelines %}
{# Override this block to provide specific rules for fields #}
{% endblock %}

{# --- EXAMPLES --- #}
{% block examples %}
{# Override this block to provide few-shot examples #}
{% endblock %}

{# --- INPUT DATA --- #}
**Input Text:**
{{ input_text }}

**JSON Output:**
